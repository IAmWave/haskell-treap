# Haskell treap implementation
A simple [treap](https://en.wikipedia.org/wiki/Treap) written in Haskell, for the [non-procedural programming course](https://is.cuni.cz/studium/predmety/index.php?do=predmet&kod=NPRG005&skr=2017&fak=11320) at Charles University.

## Tests
The treap has HUnit tests. They can be run using `make test`.

## Benchmarks
The implementation has benchmarks written using [criterion](http://www.serpentine.com/criterion/). Install criterion using
```
cabal install -j --disable-tests criterion
```
The benchmarks may then be generated by running `make benchmark`. This generates `build/report.html` which is a human-readable report. There is also [an example report](./report_example.html). (The example report was run on a Intel(R) Core(TM) i3-4030U CPU @ 1.90GHz.)

## Performance notes
As seen from the reports, asymptotic performance seems to be the expected O(n log n). Modification speed depends heavily on the insertion/deletion order; deleting leaves is faster than deleting the root, inserting in order is also fastest.

Lookup operations are nearly an order of magnitude faster than modification operations, and when summed don't depend much on the seed/treap structure (which is not surprising).
